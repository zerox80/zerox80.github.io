<!DOCTYPE html>

<html lang="de">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Dateisystemâ€‘Werkzeuge</title>
<link href="../../assets/css/style.css" rel="stylesheet"/>
<script defer="" src="../../assets/js/main.js"></script>
<meta content="Dateisystemâ€‘Werkzeuge" property="og:title"/><meta content="summary" name="twitter:card"/></head>
<body>
<header class="site-header">
<div class="container">
<h1>Linux Lernportal</h1>
<nav class="top-nav">
<a href="../../index.html">Start</a>
<a class="active" href="../index.html">LPIC-1</a>
<a class="disabled" href="#" title="Bald verfÃ¼gbar">LPIC-2</a>
<a class="disabled" href="#" title="Bald verfÃ¼gbar">LPIC-3</a>
<a href="../../search.html">Suche</a><a href="../../lpic-1/glossar.html">Glossar</a><button class="btn" id="themeToggle">ğŸŒ“</button>
</nav>
</div>
</header>
<main class="container">
<div class="breadcrumbs"><a href="../../index.html">Start</a> â–¸ <a href="../index.html">LPICâ€‘1</a> â–¸ <a href="../dateisysteme-fhs.html">Dateisysteme &amp; FHS</a> â–¸ Werkzeuge</div>
<h2>Dateisystemâ€‘Werkzeuge</h2>
<div class="layout">
<aside class="sidebar card">
<h3>Unterthemen</h3>
<div class="card-body">
<nav class="toc">
<a href="fhs.html">FHS Ãœberblick</a>
<a href="mount-und-fstab.html">Mount &amp; /etc/fstab</a>
<a class="active" href="dateisystem-werkzeuge.html">Dateisystemâ€‘Werkzeuge</a>
<a href="dateisystem-typen.html">Dateisystemâ€‘Typen</a>
<a href="speicheranalyse.html">Speicheranalyse</a>
<a href="inodes-und-links.html">Inodes &amp; Links</a>
<a href="quotas.html">Quotas</a>
<a href="partitionen-und-swap.html">Partitionen &amp; Swap</a>
<a href="labels-und-uuid.html">Labels &amp; UUID</a>
<a href="mount-optionen-und-sicherheit.html">Mountâ€‘Optionen &amp; Sicherheit</a>
<a href="dateisystem-attribute.html">Dateisystemâ€‘Attribute</a>
<a href="tmpfs-und-bind-mounts.html">tmpfs &amp; Bindâ€‘Mounts</a>
</nav>
</div>
</aside>
<article class="content">
<div class="card block"><h3>Lernziele</h3><div class="card-body"><ul><li>mkfs, fsck, tune2fs, xfs_*, btrfsâ€‘Tools einsetzen.</li></ul></div></div>
<div class="card block"><h3>Cheatsheet (Kurz)</h3><div class="card-body"><pre><code># Erstellen
mkfs.ext4 /dev/sdb1
mkfs.xfs  /dev/sdb2
mkfs.btrfs /dev/sdb3

# PrÃ¼fen/Reparieren (offline!)
e2fsck -f /dev/sdb1
xfs_repair /dev/sdb2
btrfs check --readonly /dev/sdb3

# Infos/Tuning
tune2fs -l /dev/sdb1
xfs_info /mnt
btrfs filesystem df /mnt
</code></pre></div></div>
<div class="card block"><h3>Ãœbungen</h3><div class="card-body"><ol><li>Erstelle und prÃ¼fe ein Testâ€‘Dateisystem in einer Loopâ€‘Datei.</li></ol></div></div>
<div class="card block"><h3>PrÃ¼fungsfragen</h3><div class="card-body"><ol><li>Wann darfst du <code>fsck</code> sicher ausfÃ¼hren?</li></ol></div></div>
<div class="card block"><h3>mkfs im Detail</h3><div class="card-body">
<ul>
<li><strong>ext4:</strong> <code>mkfs.ext4 -L data -m 0 -O metadata_csum,64bit /dev/sdb1</code> (Label, Reserve fÃ¼r root=0%, moderne Features).</li>
<li><strong>XFS:</strong> <code>mkfs.xfs -L media -m crc=1 -i size=512 /dev/sdb2</code> (CRCâ€‘Metadaten, grÃ¶ÃŸere Inodes fÃ¼r xattrs).</li>
<li><strong>Btrfs:</strong> <code>mkfs.btrfs -L bdata -m dup -d single /dev/sdb3</code> (Metadatenâ€‘Redundanz auf Singleâ€‘Disk).</li>
</ul>
<pre><code># Nach Erstellung: prÃ¼fen
lsblk -f
blkid
            </code></pre>
</div></div>
<div class="card block"><h3>Loopbackâ€‘Lab (sicher testen)</h3><div class="card-body"><pre><code># 1) Sparseâ€‘Datei anlegen
truncate -s 2G /tmp/disk.img

# 2) Loopâ€‘Device zuordnen
LOOP=$(sudo losetup -fP --show /tmp/disk.img)
echo $LOOP  # z. B. /dev/loop5

# 3) Partitionstabelle + Partition (optional)
sudo parted -s $LOOP mklabel gpt mkpart p1 ext4 1MiB 100%
sudo partprobe $LOOP

# 4) Dateisystem erstellen &amp; mounten
sudo mkfs.ext4 ${LOOP}p1
sudo mkdir -p /mnt/testfs &amp;&amp; sudo mount ${LOOP}p1 /mnt/testfs

# 5) Arbeiten/Tests durchfÃ¼hren, dann aufrÃ¤umen
sudo umount /mnt/testfs
sudo losetup -d $LOOP
</code></pre></div></div>
<div class="card block"><h3>fsck / Repairâ€‘Tools</h3><div class="card-body">
<ul>
<li><strong>ext4:</strong> <code>e2fsck</code> (fsck.ext4). Nur unmounted nutzen; <code>-f</code> erzwingt Check; <code>-y</code> autoâ€‘fix mit Vorsicht.</li>
<li><strong>XFS:</strong> Kein <code>fsck.xfs</code> (Wrapper). Verwende <code>xfs_repair</code>; erst <code>-n</code> (Readâ€‘only) zur Analyse, dann ohne <code>-n</code>.</li>
<li><strong>Btrfs:</strong> <code>btrfs check</code> vorsichtig, standardmÃ¤ÃŸig <code>--readonly</code>; bevorzugt laufende Pflege mit <code>btrfs scrub</code>.</li>
</ul>
<pre><code># ext4 Zwangscheck konfigurieren
sudo tune2fs -c 30 -i 6m /dev/sdb1   # alle 30 Mounts oder 6 Monate

# XFS Readâ€‘only Analyse
sudo xfs_repair -n /dev/sdb2

# Btrfs Scrub (onâ€‘line)
sudo btrfs scrub start -B /mnt
            </code></pre>
</div></div>
<div class="card block"><h3>Tuning &amp; Adminâ€‘Tools</h3><div class="card-body">
<ul>
<li><strong>ext4:</strong> <code>tune2fs</code> (Features, Reserve, Checks), <code>dumpe2fs</code> (Metadaten), <code>debugfs</code> (Experten).</li>
<li><strong>XFS:</strong> <code>xfs_admin</code> (Label/UUID), <code>xfs_growfs</code>, <code>xfs_spaceman</code>, <code>xfs_fsr</code> (Defrag).</li>
<li><strong>Btrfs:</strong> <code>btrfs subvolume/create/snapshot/send/receive/balance/filesystem df/du/device stats</code>.</li>
</ul>
<pre><code># Labels/UUID
sudo e2label /dev/sdb1 DATA
sudo xfs_admin -L MEDIA /dev/sdb2
sudo btrfs filesystem label /mnt MEDIA

# Grow (online, wenn darunter LVM/Device grÃ¶ÃŸer)
sudo resize2fs /dev/sdb1
sudo xfs_growfs /mnt
            </code></pre>
</div></div>
<div class="card block"><h3>Imaging &amp; Wipe</h3><div class="card-body">
<ul>
<li><strong>Imaging:</strong> <code>dd</code>, <code>ddrescue</code>, <code>partclone</code> (FSâ€‘aware), <code>fsarchiver</code>.</li>
<li><strong>Wipe/Signaturen:</strong> <code>wipefs</code> zum Entfernen alter FSâ€‘Signaturen; <code>blkdiscard</code> fÃ¼r SSDâ€‘Trim.</li>
</ul>
<pre><code># Vorsicht: destruktiv!
sudo wipefs -a /dev/sdb
sudo dd if=/dev/zero of=/dev/sdb bs=1M status=progress  # nur wenn du sicher bist
            </code></pre>
</div></div>
<div class="card block"><h3>Fehlersuche</h3><div class="card-body">
<ul>
<li><strong>GerÃ¤tepfade Ã¤ndern sich:</strong> immer <code>UUID/LABEL</code> in <code>fstab</code> nutzen.</li>
<li><strong>Busy Mounts:</strong> <code>lsof +f -- /mnt</code>, <code>fuser -vm /mnt</code>, dann Prozesse beenden.</li>
<li><strong>IOâ€‘Fehler:</strong> dmesg/journal prÃ¼fen, SMART (<code>smartctl -a</code>), Kabel/Ports.</li>
</ul>
</div></div>
<div class="card block"><h3>Erweitertes Cheatsheet</h3><div class="card-body"><pre><code># Anzeigen
lsblk -f
blkid
findmnt -t ext4,xfs,btrfs

# Kopieren/Sichern
rsync -aAXH --numeric-ids SRC/ DST/

# Btrfs
btrfs subvolume list /mnt
btrfs balance start -dusage=75 -musage=75 /mnt

# XFS
xfs_info /mnt
xfs_spaceman -c 'frag -v' /mnt

# ext4
dumpe2fs -h /dev/sdb1 | head
            </code></pre></div></div>
<div class="card block"><h3>Weitere Ãœbungen</h3><div class="card-body"><ol>
<li>Lege drei Loopâ€‘Devices an und erstelle ext4/XFS/Btrfs. FÃ¼lle sie mit Testdaten und vergleiche <code>fio</code>â€‘Muster.</li>
<li>Simuliere Metadatenâ€‘Fehler (nur im Lab) und analysiere die Ausgabe von <code>e2fsck</code>, <code>xfs_repair -n</code>, <code>btrfs check --readonly</code>.</li>
<li>Wachse ein ext4 und ein XFS online, indem du ein LVMâ€‘LV vergrÃ¶ÃŸerst.</li>
</ol></div></div>
<div class="card block"><h3>Quiz</h3><div class="card-body">
<div class="quiz">
<div class="quiz-question">Welches Tool verwendest du fÃ¼r eine XFSâ€‘Dateisystemâ€‘Reparatur?</div>
<div class="quiz-options">
<label class="quiz-option"><input name="q1" type="radio"/> fsck.xfs</label>
<label class="quiz-option" data-correct="1"><input name="q1" type="radio"/> xfs_repair</label>
<label class="quiz-option"><input name="q1" type="radio"/> btrfs check</label>
</div>
<div class="quiz-actions"><button class="btn primary check-quiz">PrÃ¼fen</button></div>
<div class="quiz-feedback"></div>
</div>
</div></div>
</article>
</div>
<div class="card" id="progressWidget"><div class="card-body"><h3>Kapitel abschlieÃŸen</h3><p class="muted">Hake dieses Kapitel als erledigt ab. Dein Fortschritt wird nur lokal im Browser gespeichert.</p><label class="checkbox"><input id="pageComplete" type="checkbox"/> Ich habe dieses Kapitel verstanden</label><p><a href="../../lpic-1/fortschritt.html">Zu meinem Fortschritt</a></p></div></div><div class="card"><div class="card-body"><h3>Vertiefung &amp; Praxis</h3><p><strong>Vertiefung:</strong> Wichtige Praxisaspekte und PrÃ¼fungsbezug.</p>
<ul><li>Relevante Manpages, typische Optionen und Nebeneffekte.</li><li>PraxisÃ¼bung in einer frischen VM; Ã„nderungen reproduzierbar dokumentieren.</li><li>PrÃ¼fungsszenarien mit Stolpersteinen und Zeitsparâ€‘Tricks.</li></ul></div></div><div class="card"><div class="card-body"><h3>Checkliste â€“ schneller Durchblick</h3>
<ul>
<li>Relevante Logdateien geprÃ¼ft? (<code>journalctl</code>, <code>/var/log/*</code>)</li>
<li>Manpage/--help gelesen und Option bewusst gewÃ¤hlt?</li>
<li>Rechte/Ownership/SELinux/AppArmor berÃ¼cksichtigt?</li>
<li>Distribution &amp; Version: gleiches Verhalten verifiziert?</li>
</ul>
</div></div><div class="card"><div class="card-body"><h3>PrÃ¼fungsfragen (MC)</h3><h3>Quiz â€“ Selbsttest</h3><div class="card"><div class="card-body"><p><strong>Frage:</strong> Welche Manpage zeigt Synopsis &amp; Optionen eines Befehls?</p><ol><li><strong>A.</strong> info</li><li><strong>B.</strong> help</li><li><strong>C.</strong> man</li><li><strong>D.</strong> what</li></ol><details><summary>LÃ¶sung anzeigen</summary><p><strong>Richtig:</strong> C. man ist Standardreferenz.</p></details></div></div></div></div><div class="card"><div class="card-body"><h3>Optionenâ€‘Atlas (Kernbefehle)</h3><table><tr><th>Kommando</th><th>Wichtige Optionen</th></tr><tr><td><code>man</code></td><td>man 1 chmod; man -k KEYWORD; /Suchbegriff; n weiter</td></tr>
<tr><td><code>help</code></td><td>Bash builtins: help test; type zeigt Herkunft</td></tr>
<tr><td><code>info</code></td><td>Detailierte Doku via Info-Seiten</td></tr></table></div></div><div class="card"><div class="card-body"><h3>Szenarien aus der Praxis</h3><ul><li>Manpages effektiv: SYNOPSIS â†’ Optionen â†’ EXAMPLES; eigene Notizen ans Ende der Seite.</li>
<li>Vor Ã„nderung: Backup der Konfig und spÃ¤ter diff zum Vergleichen.</li>
<li>Alle Schritte in Readme im Repo dokumentieren (Wiederholbarkeit).</li></ul></div></div><div class="card"><div class="card-body"><h3>Diagnose-Flow (schneller Pfad zur LÃ¶sung)</h3><ol><li>Reproduktion in frischer VM mÃ¶glich?</li>
<li>Ã„nderung minimal &amp; dokumentiert?</li>
<li>Fallback/Backoutâ€‘Plan vorhanden?</li>
<li>Securityâ€‘Implikationen bedacht?</li></ol></div></div><div class="card"><div class="card-body"><h3>Erweiterte Ãœbungen</h3><p>Bearbeite die Aufgaben, dokumentiere die Schritte und vergleiche die Ergebnisse mit den Erwartungen. Nutze eine frische VM fÃ¼r reproduzierbare Ergebnisse.</p><ol><li>Manpages effektiv: SYNOPSIS â†’ Optionen â†’ EXAMPLES; eigene Notizen ans Ende der Seite. â€“ <em>liefere Befehle, BegrÃ¼ndung und Nachweise (Logs/Outputs)</em>.</li><li>Vor Ã„nderung: Backup der Konfig und spÃ¤ter diff zum Vergleichen. â€“ <em>liefere Befehle, BegrÃ¼ndung und Nachweise (Logs/Outputs)</em>.</li><li>Alle Schritte in Readme im Repo dokumentieren (Wiederholbarkeit). â€“ <em>liefere Befehle, BegrÃ¼ndung und Nachweise (Logs/Outputs)</em>.</li></ol></div></div><div class="card"><div class="card-body"><h3>Cheatsheet â€“ erweitert</h3><pre><code># NÃ¼tzliche Helfer
man -k backup
type chmod
info coreutils 'File permissions'</code></pre></div></div><div class="card" id="prevnext"><div class="card-body"><h3>Weiter navigieren</h3><p><a href="dateisystem-typen.html" rel="prev">â† Vorherige Seite</a> Â· <a href="fhs.html" rel="next">NÃ¤chste Seite â†’</a></p></div></div></main>
<footer class="site-footer"><div class="container"><span>Â© Linux Lernportal</span></div></footer>
</body>
</html>
